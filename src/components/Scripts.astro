---
---
<!-- Core JS Dependencies -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" is:inline></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" is:inline></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" is:inline></script>

<!-- Make jQuery global -->
<script is:inline>
    window.jQuery = window.$ = jQuery;
</script>

<!-- Initialize Components -->
<script is:inline>
    $(document).ready(function() {
        console.log('Document ready');
        
        // Initialize welcome modal
        console.log('Trying to show welcome modal');
        var $modal = $('#modalBienvenida');
        if ($modal.length) {
            console.log('Modal found, showing it');
            // Agregar estilos para transición más rápida
            var style = document.createElement('style');
            style.innerHTML = `
                .modal.fade .modal-dialog {
                    transition: transform .2s ease-out !important;
                }
                .modal.fade {
                    transition: opacity .2s linear !important;
                }
            `;
            document.head.appendChild(style);

            // Mostrar el modal con un pequeño retardo para permitir la animación
            setTimeout(function() {
                $modal.modal({
                    backdrop: 'static',
                    keyboard: false,
                    show: true
                });
            }, 200);
        } else {
            console.error('Welcome modal not found');
        }

        // Handle modal button click
        $('#boton-modal').on('click', function() {
            console.log('Modal button clicked');
            $('#modalBienvenida').modal('hide');
            var audio = document.getElementById('musica');
            if (audio) {
                audio.play();
                audio.muted = false;
            }
        });

        // Initialize map modals
        $('.btn-map').on('click', function(e) {
            console.log('Map button clicked');
            e.preventDefault();
            var targetModal = $($(this).data('target'));
            if (targetModal.length) {
                console.log('Opening map modal:', $(this).data('target'));
                targetModal.modal('show');
            } else {
                console.error('Map modal not found:', $(this).data('target'));
            }
        });
    });
</script>

<!-- Other Scripts -->
<script src="/scripts/modernizr.js" defer></script>
<script src="/scripts/jquery-ui.min.js" defer></script>
<script src="/scripts/bootstrap.offcanvas.js" defer></script>
<script src="/scripts/script.js" defer></script>